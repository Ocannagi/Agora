<mat-toolbar>
    <span>
        <a mat-button routerLink="">
            <mat-icon>account_balance</mat-icon> Ágora eCommerce
        </a>
    </span>

    <!-- Buscador -->
      <div class="buscador">
        <input
          type="search"
          class="buscador-input"
          [formControl]="searchCtrl"
          placeholder="Buscar antigüedades, períodos y más..."
          aria-label="Buscar antigüedades"
          (keyup.enter)="onSearch()" />
        <button type="button" class="buscador-btn" aria-label="Buscar" (click)="onSearch()">
          <mat-icon>search</mat-icon>
        </button>
      </div>


    <app-autorizado [esAutorizado]="storeAuth.isCompradorVendedor()">
        <ng-container autorizado>
            <div>
                <button mat-button [matMenuTriggerFor]="antiguedadesMenu">
                    <mat-icon>chair</mat-icon> Antigüedades
                    <mat-icon>arrow_drop_down</mat-icon>
                </button>
                <mat-menu #antiguedadesMenu="matMenu">
                    <a mat-menu-item routerLink="/antiguedades">
                        <mat-icon>chair</mat-icon>
                        <span>Mis Antigüedades</span>
                    </a>
                    <a mat-menu-item routerLink="/antiguedadesAlaVenta">
                        <mat-icon>sell</mat-icon>
                        <span>Mis Antigüedades en Venta</span>
                    </a>
                    <a mat-menu-item routerLink="/antiguedadesRetiradasNd">
                        <mat-icon>archive</mat-icon>
                        <span>Antigüedades Retiradas</span>
                    </a>
                </mat-menu>
            </div>
            <div>
                <button mat-button [matMenuTriggerFor]="compraventaMenu">
                    <mat-icon>storefront</mat-icon> Compraventa
                    <mat-icon>arrow_drop_down</mat-icon>
                </button>
                <mat-menu #compraventaMenu="matMenu">
                    <a mat-menu-item routerLink="/compras">
                        <mat-icon>local_mall</mat-icon>
                        <span>{{storeAuth.isSoporteTecnico() ? 'Todas las Compras' : 'Mis Compras'}}</span>
                    </a>
                    <a mat-menu-item routerLink="/ventas">
                        <mat-icon>storefront</mat-icon>
                        <span>{{storeAuth.isSoporteTecnico() ? 'Todas las Ventas' : 'Mis Ventas'}}</span>
                    </a>
                </mat-menu>
            </div>
        </ng-container>
    </app-autorizado>

    <app-autorizado [esAutorizado]="storeAuth.isSoporteTecnico()">
        <ng-container autorizado>
            <div>
                <a mat-button routerLink="/usuarios"><mat-icon>people</mat-icon>Usuarios</a>
            </div>
        </ng-container>
    </app-autorizado>

    <div class="espacio"></div>

    <app-autorizado [esAutorizado]="storeAuth.isLoggedIn()" style="display: inline;">
        <ng-container autorizado>
            <!-- reemplazar el span -->
            <button mat-button class="saludo-btn" [routerLink]="'/usuarios/editar/' + storeAuth.usrId()">Hola, {{storeAuth.usrNombre()}}</button>
            <!-- (click)="logout()" -->
            <a mat-button [swal]="{title: 'Logout', text: '¿Estás seguro de que deseas cerrar sesión?', icon: 'warning', showCancelButton: true}" (confirm)="storeAuth.logout()">Logout</a>
        </ng-container>
        <ng-container noAutorizado>
            <a mat-button routerLink="login">Login</a>
            <a mat-button routerLink="usuarios/crear">SignUp</a>
        </ng-container>
    </app-autorizado>

    <button [disabled]="storeCarrito.deshabilitarCarrito()" mat-button  routerLink="carrito" aria-label="Ver carrito de compras">
        <mat-icon [matBadge]="storeCarrito.totalItems()" matBadgeOverlap="false" [matBadgeHidden]="storeCarrito.deshabilitarCarrito()" matButton="elevated"  matBadgePosition="after">shopping_cart</mat-icon>
    </button>

</mat-toolbar>